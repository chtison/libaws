.PHONY: run clean

run: generated.go

generated.go: */*.tmpl.yaml
	@echo '// Code generated by Makefile DO NOT EDIT' > generated.go
	@echo '' >> generated.go
	@echo 'package libaws' >> generated.go
	@echo '// Templates ...' >> generated.go
	@echo 'const Templates = `'"`cat $^`" >> generated.go
	@go generate
	@echo '`' >> generated.go
	@gofmt -w generated.go
	@echo 'ğŸ‘  generated.go successfully created'

clean:
	rm -f -- generated.go
